<!DOCTYPE qgis PUBLIC 'http://mrcc.com/qgis.dtd' 'SYSTEM'>
<qgis styleCategories="Symbology|Labeling|MapTips" labelsEnabled="1" version="3.44.3-Solothurn">
  <renderer-v2 symbollevels="0" referencescale="-1" enableorderby="0" forceraster="0" type="RuleRenderer">
    <rules key="{37f7d154-6eab-42c4-992e-91f7bddbabd3}">
      <rule key="{8da3026b-34f2-431c-95e7-ea5f7acc4ef5}" symbol="0"/>
    </rules>
    <symbols>
      <symbol alpha="1" force_rhr="0" type="fill" name="0" is_animated="0" clip_to_extent="1" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer class="SimpleFill" pass="0" id="{72b25a0c-d4e5-4e0d-84be-5b403eb0c65e}" enabled="1" locked="0">
          <Option type="Map">
            <Option type="QString" name="border_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="color" value="229,182,54,255,rgb:0.8980392,0.7137255,0.2117647,1"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="offset" value="0,0"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="outline_color" value="160,160,160,255,rgb:0.627451,0.627451,0.627451,1"/>
            <Option type="QString" name="outline_style" value="solid"/>
            <Option type="QString" name="outline_width" value="1.5"/>
            <Option type="QString" name="outline_width_unit" value="MM"/>
            <Option type="QString" name="style" value="no"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </symbols>
    <data-defined-properties>
      <Option type="Map">
        <Option type="QString" name="name" value=""/>
        <Option name="properties"/>
        <Option type="QString" name="type" value="collection"/>
      </Option>
    </data-defined-properties>
  </renderer-v2>
  <selection mode="Default">
    <selectionColor invalid="1"/>
    <selectionSymbol>
      <symbol alpha="1" force_rhr="0" type="fill" name="" is_animated="0" clip_to_extent="1" frame_rate="10">
        <data_defined_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </data_defined_properties>
        <layer class="SimpleFill" pass="0" id="{81b4d035-55ad-47b8-b0fc-3841bb5a6718}" enabled="1" locked="0">
          <Option type="Map">
            <Option type="QString" name="border_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="color" value="0,0,255,255,rgb:0,0,1,1"/>
            <Option type="QString" name="joinstyle" value="bevel"/>
            <Option type="QString" name="offset" value="0,0"/>
            <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
            <Option type="QString" name="offset_unit" value="MM"/>
            <Option type="QString" name="outline_color" value="35,35,35,255,rgb:0.1372549,0.1372549,0.1372549,1"/>
            <Option type="QString" name="outline_style" value="solid"/>
            <Option type="QString" name="outline_width" value="0.26"/>
            <Option type="QString" name="outline_width_unit" value="MM"/>
            <Option type="QString" name="style" value="solid"/>
          </Option>
          <data_defined_properties>
            <Option type="Map">
              <Option type="QString" name="name" value=""/>
              <Option name="properties"/>
              <Option type="QString" name="type" value="collection"/>
            </Option>
          </data_defined_properties>
        </layer>
      </symbol>
    </selectionSymbol>
  </selection>
  <labeling type="simple">
    <settings calloutType="simple">
      <text-style fontItalic="0" textOrientation="horizontal" textColor="50,50,50,255,rgb:0.1960784,0.1960784,0.1960784,1" useSubstitutions="0" isExpression="1" fontKerning="1" forcedItalic="0" textOpacity="1" multilineHeight="0.90000000000000002" fontWeight="50" fontLetterSpacing="0" previewBkgrdColor="255,255,255,255,rgb:1,1,1,1" forcedBold="0" fontSize="8" tabStopDistanceUnit="Point" legendString="Aa" namedStyle="Standard" fontSizeUnit="Point" fontUnderline="0" multilineHeightUnit="Percentage" capitalization="0" fieldName="'&lt;p>'||&#xd;&#xa;CASE &#xd;&#xa;WHEN var( 'linie_ohne_flaeche_' + plan_layer_id() ) is 'true'  THEN '&lt;span style=&quot;color:#FF0000&quot;>'||'Hinweis: keine BP_UeberbaubareGrundstuecksFlaeche'||'&lt;/span>'&#xd;&#xa;ELSE ''&#xd;&#xa;END||'&lt;/p>'&#xd;&#xa; || &#xd;&#xa;&#xd;&#xa;'&lt;p>'||&#xd;&#xa;CASE &#xd;&#xa;WHEN var( 'plan_in_deutschland_' + plan_layer_id() ) is 'false'  THEN '&lt;span style=&quot;color:#FF0000&quot;>'||'Koordinaten passen nicht zu EPSG'||'&lt;/span>'&#xd;&#xa;ELSE ''&#xd;&#xa;END||'&lt;/p>'&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;p>'||&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;'&lt;p>'|| CASE  WHEN try(gemeindeName is not NULL,'-') THEN to_string(&quot;gemeindeName&quot; ) +' / '&#xd;&#xa;ELSE '&lt;span style=&quot;color:#FF0000&quot;>'||'&quot;gemeindeName&quot; nicht erfasst  '||'&lt;/span>'&#xd;&#xa;END || &#xd;&#xa;CASE &#xd;&#xa;WHEN try(ortsteilName is not NULL,'-') THEN to_string(&quot;ortsteilName&quot; )&#xd;&#xa;ELSE '&lt;span style=&quot;color:#FF0000&quot;>'||'&quot;ortsteilName&quot; nicht erfasst'||'&lt;/span>'&#xd;&#xa;END ||'&lt;/p>'&#xd;&#xa;&#xd;&#xa;||'&lt;p>&lt;b>'|| CASE &#xd;&#xa;WHEN try(name is not NULL,'-') THEN  '&quot;'+ left(to_string(&quot;name&quot;),70) +&#xd;&#xa;&#x9;&#x9;case &#xd;&#xa;&#x9;&#x9;when length(to_string(&quot;name&quot;))>150 then  '&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),71,70) +'&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),141,70) +&#xd;&#xa;&#x9;&#x9;'&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),211,990)&#xd;&#xa;&#x9;&#x9;when length(to_string(&quot;name&quot;))>100 then  '&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),71,70) +'&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),141,70)&#xd;&#xa;&#x9;&#x9;when length(to_string(&quot;name&quot;))> 70 then  '&lt;p>&lt;b>' + substr(to_string(&quot;name&quot;),71,70) &#xd;&#xa;&#x9;&#x9;ELSE'' &#xd;&#xa;&#x9;&#x9;END &#xd;&#xa;+'&quot;'&#xd;&#xa;ELSE '&lt;span style=&quot;color:#FF0000&quot;>'||'&quot;name&quot; nicht erfasst'||'&lt;/span>'&#xd;&#xa;END ||'&lt;/p>'&#xd;&#xa;&#xd;&#xa;||'&lt;p>'|| CASE &#xd;&#xa;WHEN try(nummer is not NULL,'-') THEN 'Nr.: '+ to_string(&quot;nummer&quot; )&#xd;&#xa;ELSE '&lt;span style=&quot;color:#FF0000&quot;>'||'&quot;nummer&quot; nicht erfasst'||'&lt;/span>'&#xd;&#xa;END ||'&lt;/p>'&#xd;&#xa;&#xd;&#xa;||'&lt;p>'||CASE &#xd;&#xa;WHEN try(beschreibung[0] is not NULL) THEN 'Beschreibung:-'&#xd;&#xa;/* nach Bespiel ist das hier dann die Beschreibung für externe Dokumente*/&#xd;&#xa;WHEN try (length(&quot;beschreibung&quot;)>50) THEN  left(&quot;beschreibung&quot;,50)+'...'&#xd;&#xa;WHEN try (length(&quot;beschreibung&quot;)&lt;51) THEN  &quot;beschreibung&quot;&#xd;&#xa;ELSE ''&#xd;&#xa;END ||'&lt;/p>'&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||  /* nur F56 */&#xd;&#xa;CASE WHEN try(&quot;sachgebiet&quot; is not NULL) THEN 'Sachgebiet: ' ||to_string(&quot;sachgebiet&quot;) ELSE '' END &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* ------------------------------planart F56 ------------------------- */&#xd;&#xa;+case when try(&quot;planArt&quot;is not NULL)then'\n'ELSE''END&#xd;&#xa;+replace(case when try(&quot;planArt&quot;is not NULL)then array_to_string(array_foreach(case when try(array_length(&quot;planArt&quot;)>=0)then &quot;planArt&quot; Else array(&quot;planArt&quot;)end,&#xd;&#xa;case&#xd;&#xa;WHEN @element=1000  THEN 'BPlan' &#xd;&#xa;WHEN @element=10000 THEN 'Einfacher BPlan §30 3 BauGB' &#xd;&#xa;WHEN @element=10001 THEN 'Qualifizierter BPlan §30 1 BauGB' &#xd;&#xa;WHEN @element=10002 THEN 'BPlan Wohnraumversorgung §34 Gebiete nach §9 2d BauGB' &#xd;&#xa;WHEN @element=3000  THEN 'Vorhabensbezogener BPlan §12 BauGB' &#xd;&#xa;WHEN @element=3100  THEN 'Vorhaben- und Erschließungsplan' &#xd;&#xa;WHEN @element=4000  THEN 'Innenbereichssatzung §34 BauGB' &#xd;&#xa;WHEN @element=40000 THEN 'Klarstellungssatzung §34 4.1 BauGB' &#xd;&#xa;WHEN @element=40001 THEN 'Entwicklungssatzung §34 4.2 BauGB' &#xd;&#xa;WHEN @element=40002 THEN 'Ergänzungssatzung §34 4.3 BauGB' &#xd;&#xa;WHEN @element=5000  THEN 'Außenbereichssatzung §35 6 BauGB' &#xd;&#xa;WHEN @element=7000  THEN 'Qualifizierter BPlan §30 1 BauGB' &#xd;&#xa;WHEN @element=9999  THEN 'sonstige Planart' &#xd;&#xa;else ''end&#xd;&#xa;)) ELSE ''END ,',', '\n' )&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||&#xd;&#xa;CASE WHEN try(&quot;sonstPlanArt&quot;  is not NULL,'-') THEN 'sonstPlanArt: ' ||to_string(&quot;sonstPlanArt&quot;) ELSE '' END || &#xd;&#xa;CASE WHEN try(&quot;sonstPlanArt_codeSpace&quot; is not NULL,'-') THEN ' (codeSpace=' ||to_string(&quot;sonstPlanArt_codeSpace&quot;)||')' ELSE '' END&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||CASE &#xd;&#xa;WHEN try (length(&quot;sachgebiet&quot;)>50) THEN  'Sachgebiet: ' || left(&quot;sachgebiet&quot;,50)+'...'&#xd;&#xa;WHEN try (length(&quot;sachgebiet&quot;)&lt;51) THEN  'Sachgebiet: ' || &quot;sachgebiet&quot;&#xd;&#xa;ELSE '' END &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* ------------------------- Verfahren geprüft, ist gleich für B&amp;F B5 F56 ------------------------- */&#xd;&#xa;||'&lt;/p>'||case  &#xd;&#xa; when try( &quot;verfahren&quot; = 1000) then ' (normales Verfahren)'&#xd;&#xa; when try( &quot;verfahren&quot; = 2000) then ' (§13BauGB)'&#xd;&#xa; when try( &quot;verfahren&quot; = 3000) then ' (§13aBauGB)'&#xd;&#xa; when try( &quot;verfahren&quot; = 4000) then ' (§13bBauGB)'&#xd;&#xa; Else '' End &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/*...................... Rechtsstand B56...........................*/&#xd;&#xa;||'&lt;p>'|| CASE &#xd;&#xa;WHEN &quot;rechtsstand&quot;=1000  THEN 'Rechtsstand: Aufstellungsbeschluss' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=1500  THEN 'Rechtsstand: Aufstellungsbeschluss aufgehoben'  /*neu in v6 */&#xd;&#xa;WHEN &quot;rechtsstand&quot;=2000  and (var('xplanversion_' +  plan_layer_id()))&lt;6  THEN 'Rechtsstand: Entwurf' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2000  and (var('xplanversion_' +  plan_layer_id()))>=6 THEN 'Rechtsstand: im Verfahren' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2050  THEN 'Rechtsstand: Frühzeitige Beteiligung'  /*neu in v6 */&#xd;&#xa;WHEN &quot;rechtsstand&quot;=2100  and (var('xplanversion_'+plan_layer_id()))&lt;=6 THEN 'Rechtsstand: Frühzeitige Behördenbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2100  and (var('xplanversion_'+plan_layer_id()))>6  THEN 'Rechtsstand: Frühzeitige Trägerbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2200  THEN 'Rechtsstand: Frühzeitige Öffentlichkeitsbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2250  THEN 'Rechtsstand: Entwurfsbeschluss' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2300  and (var('xplanversion_'+plan_layer_id()))&lt;=6 THEN 'Rechtsstand: Behördenbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2300  and (var('xplanversion_'+plan_layer_id()))>6  THEN 'Rechtsstand: Trägerbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2400  and (var('xplanversion_'+plan_layer_id()))&lt;=6 THEN 'Rechtsstand: öff. Auslegung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=2400  and (var('xplanversion_'+plan_layer_id()))>6  THEN 'Rechtsstand: Öffentlichkeitsbeteiligung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=3000  THEN 'Rechtsstand: Satzung' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=4000  THEN 'Rechtsstand: in kraft getreten' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=4500  THEN 'Rechtsstand: teilweise untergegangen' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=45000 THEN 'Rechtsstand: teilweise aufgehoben'  /*neu in v6 */&#xd;&#xa;WHEN &quot;rechtsstand&quot;=45001 THEN 'Rechtsstand: teilweise außer Kraft'  /*neu in v6 */&#xd;&#xa;WHEN &quot;rechtsstand&quot;=5000  THEN 'Rechtsstand: untergegangen' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=50000 THEN 'Rechtsstand: aufgehoben' &#xd;&#xa;WHEN &quot;rechtsstand&quot;=50001 THEN 'Rechtsstand: außer Kraft' &#xd;&#xa;ELSE '&lt;span style=&quot;color:#FF0000&quot;>'||'&quot;rechtsstand&quot; nicht erfasst'||'&lt;/span>'   END &#xd;&#xa;/*...................... Rechtsstand F56 ...........................*/&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||   /* B56 F56  */&#xd;&#xa;CASE WHEN try(&quot;status&quot;  is not NULL,'-') THEN 'Status: ' ||to_string(&quot;status&quot;) ELSE '' END&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;p>' || CASE WHEN array_length(var( 'referenzierte_rasterplaene_' + plan_layer_id())) > 0 THEN&#xd;&#xa;&#xd;&#xa;&#x9;'Anzahl Rasterpläne:'||var( 'anzahl_rasterplaene_' + plan_layer_id() )&#xd;&#xa;&#x9;||'&lt;p>' || 'Referenzierte Rasterpläne:&lt;br>'||array_to_string(var( 'referenzierte_rasterplaene_' + plan_layer_id() ), delimiter:='&lt;br>')&#xd;&#xa;&#xd;&#xa;ELSE 'Anzahl Rasterpläne:'||var( 'anzahl_rasterplaene_' + plan_layer_id() ) END&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'-----------------------------  Version '||var( 'xplanversion_' +  plan_layer_id() )||' ----------------------------- '||'&lt;p>'&#xd;&#xa;&#xd;&#xa;||CASE &#xd;&#xa;WHEN try(length(kommentar)>30 ) THEN 'Kommentar:' || left(to_string(&quot;kommentar&quot;),30)||'....'&#xd;&#xa;WHEN try(length(kommentar)&lt;31 ) THEN 'Kommentar:' || to_string(&quot;kommentar&quot;)&#xd;&#xa;ELSE '' END   || '&lt;/p>'||'&lt;p>' &#xd;&#xa;&#xd;&#xa;||CASE &#xd;&#xa;WHEN try(&quot;ags&quot; is not null and &quot;rs&quot; is not null) THEN 'AGS/RS: ' || to_string(&quot;ags&quot;)  || ' / '  || to_string(&quot;RS&quot;)  &#xd;&#xa;WHEN try(&quot;ags&quot; is not null) THEN 'AGS: ' || to_string(&quot;ags&quot;)  &#xd;&#xa;WHEN try(&quot;rs&quot; is not null)  THEN 'RS: '  || to_string(&quot;RS&quot;)  &#xd;&#xa;ELSE '' END   || '&lt;/p>'||'&lt;p>' &#xd;&#xa; &#xd;&#xa; &#xd;&#xa; &#xd;&#xa; &#xd;&#xa; &#xd;&#xa;&#xd;&#xa;/*................................VerfahrensMerkmal....................................... */&#xd;&#xa;||&#xd;&#xa;CASE &#xd;&#xa;WHEN try(&quot;vermerk&quot; is not null) THEN 'VerfahrensMerkmale: '  &#xd;&#xa;&#xd;&#xa;&#x9;|| case &#xd;&#xa;&#x9;when try (array_length(&quot;vermerk&quot;)>0) then array_length(&quot;vermerk&quot;) || '*Vermerk, '&#xd;&#xa;&#x9;when try (&quot;vermerk&quot; is not null) then '1 Vermerk, '&#xd;&#xa;&#x9;Else ''&#xd;&#xa;&#x9;End &#xd;&#xa;&#x9;|| case &#xd;&#xa;&#x9;when try (array_length(&quot;datum&quot;)>0) then array_length(&quot;datum&quot;) || '*Datum, '&#xd;&#xa;&#x9;when try (&quot;datum&quot; is not null) then '1 Datum, '&#xd;&#xa;&#x9;Else ''&#xd;&#xa;&#x9;End &#xd;&#xa;&#x9;|| case &#xd;&#xa;&#x9;when try (array_length(&quot;signatur&quot;)>0) then array_length(&quot;signatur&quot;) || '*Signatur, '&#xd;&#xa;&#x9;when try (&quot;signatur&quot; is not null) then '1 Signatur, '&#xd;&#xa;&#x9;Else ''&#xd;&#xa;&#x9;End &#xd;&#xa;&#x9;|| case &#xd;&#xa;&#x9;when try (array_length(&quot;signiert&quot;)>0) then array_length(&quot;signiert&quot;) || 'mal signiert'&#xd;&#xa;&#x9;when try (&quot;signiert&quot; is not null) then '1 signiert'&#xd;&#xa;&#x9;Else ''&#xd;&#xa;&#x9;End &#xd;&#xa;ELSE ''&#xd;&#xa;END&#xd;&#xa;/*................................Ende VerfahrensMerkmal....................................... */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||&#xd;&#xa;CASE &#xd;&#xa;WHEN try(plangeber is not NULL,'-') THEN 'Plangeber:' ||to_string(&quot;plangeber&quot; )&#xd;&#xa;WHEN try( &quot;plangeber|XP_Plangeber|name&quot;  is not NULL,'-') THEN 'Plangeber:' ||to_string(&quot;plangeber|XP_Plangeber|name&quot;)&#xd;&#xa;ELSE ''&#xd;&#xa;END&#xd;&#xa;&#xd;&#xa;/* ------------------------------- planaufstellendeGemeinde  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;planaufstellendeGemeinde|XP_Gemeinde|gemeindeName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'aufstell.Gem.: '|| @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'aufstell.Gem.: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'aufstell.Gem.: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;planaufstellendeGemeinde|XP_Gemeinde|ortsteilName&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;planaufstellendeGemeinde|XP_Gemeinde|ortsteilName&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;planaufstellendeGemeinde|XP_Gemeinde|ags&quot; is not null) then '; AGS:' else '' end &#xd;&#xa;|| with_variable('x2',&quot;planaufstellendeGemeinde|XP_Gemeinde|ags&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;planaufstellendeGemeinde|XP_Gemeinde|rs&quot; is not null) then '; RS:' else '' end &#xd;&#xa;|| with_variable('x2',&quot;planaufstellendeGemeinde|XP_Gemeinde|rs&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||&#xd;&#xa;CASE &#xd;&#xa;WHEN try(erstellungsMassstab is not NULL,'-') THEN 'Erstellungsmaßstab:' ||to_string(&quot;erstellungsMassstab&quot;)&#xd;&#xa;ELSE ''&#xd;&#xa;END&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||&#xd;&#xa;CASE &#xd;&#xa;WHEN try( &quot;hoehenbezug&quot;  is not NULL,'-') THEN 'Höhenbezug:' ||to_string(&quot;hoehenbezug&quot;)&#xd;&#xa;ELSE ''&#xd;&#xa;END&#xd;&#xa;||&#xd;&#xa;CASE &#xd;&#xa;WHEN try(length(technischerPlanersteller)&lt;30) THEN '&lt;/p>'||'&lt;p>'||'techn.Planersteller:' ||to_string(&quot;technischerPlanersteller&quot;)&#xd;&#xa;WHEN try(length(technischerPlanersteller)>29) THEN '&lt;/p>'||'&lt;p>'||'techn.Planersteller:' ||left(to_string(&quot;technischerPlanersteller&quot;),30) || '...'&#xd;&#xa;ELSE ''&#xd;&#xa;END&#xd;&#xa;&#xd;&#xa;/* hier beginnt die Außenschleife aendert etc. für V5 und V6    */&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>' || case&#xd;&#xa; when (var('xplanversion_' +  plan_layer_id()))&lt;6 then &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* ------------------------------- aendert und aendertPlan B56 F56  ------------------------------- */&#xd;&#xa;with_variable('x1',&quot;planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'ändert: '|| @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'ändert: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'ändert: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlan|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;aendertPlan|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendert|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;aendert|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;rechtscharakter&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;rechtscharakter&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =1100  then 'Ergänzung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =20000 then 'Aufhebungsverfahren'&#xd;&#xa;&#x9;when @element =20001 then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =1100  then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =20000 then 'Aufhebungsverfahren'&#xd;&#xa;&#x9;when @x3 =20001 then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;/* ------------------------------- wurdeGeaendert und wurdeGeaendertVonPlan  B56 F56  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'wurde geändert von: '|| @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'wurde geändert von: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'geändert von: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;wurdeGeaendertVon|XP_VerbundenerPlan|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'wurde geändert von: '|| @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'wurde geändert von: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'geändert von: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVon|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;wurdeGeaendertVon|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVon|XP_VerbundenerPlan|rechtscharakter&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;wurdeGeaendertVon|XP_VerbundenerPlan|rechtscharakter&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =1100  then 'Ergänzung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =20000 then 'Aufhebungsverfahren'&#xd;&#xa;&#x9;when @element =20001 then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =1100  then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =20000 then 'Aufhebungsverfahren'&#xd;&#xa;&#x9;when @x3 =20001 then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;/* ------------------------------- aendertPlanBereich  B6 F6  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'ändert PlanBereich: '|| @x1[0]&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'ändert PlanBereiche: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1 Else array(@x1)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'ändert PlanBereich: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* ------------------------------- wurdeGeaendertVonPlanBereich  B6 F6  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'geändert von PlanBereich: '|| @x1[0]&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'geändert von PlanBereich: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1 Else array(@x1)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'geändert von PlanBereich: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;/* hier endet  die Außenschleife aendert etc. für V5 und beginnt V6    */&#xd;&#xa;Else  &#xd;&#xa;&#xd;&#xa;case &#xd;&#xa;when try(&quot;aendertPlan|XP_VerbundenerPlan|nummer&quot; &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;is not null) then 'ändert: '&#xd;&#xa;when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|nummer&quot; &#x9;&#x9;&#x9;&#x9;&#x9;is not null) then 'wurde geändert von: '&#xd;&#xa;when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; &#x9;&#x9;&#x9;&#x9;is not null) then 'ändert Planbereich: '&#xd;&#xa;when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; &#x9;is not null) then 'wird geändert von Planbereich: '&#xd;&#xa;Else ''&#xd;&#xa;end &#xd;&#xa; || &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;with_variable('x1',&quot;planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN  @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN  replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN @x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlan|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;aendertPlan|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;/* ------------------------------- wurdeGeaendert und wurdeGeaendertVonPlan  B56 F56  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'wurde geändert von: '|| @x1[0] || ', '&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'wurde geändert von: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1  Else array(@x1)end, @element)) ELSE ''END ,',', ' - ' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'geändert von: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;wurdeGeaendertVonPlan|XP_VerbundenerPlan|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;/* ------------------------------- aendertPlanBereich  B6 F6  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'ändert PlanBereich: '|| @x1[0]&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'ändert PlanBereiche: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1 Else array(@x1)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'ändert PlanBereich: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;aendertPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* ------------------------------- wurdeGeaendertVonPlanBereich  B6 F6  ------------------------------- */&#xd;&#xa;||'&lt;/p>'||'&lt;p>'||with_variable('x1',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|planName&quot;, &#xd;&#xa;CASE &#xd;&#xa;  WHEN try(array_length(@x1)=1) THEN 'geändert von PlanBereich: '|| @x1[0]&#xd;&#xa;  WHEN try(array_length(@x1)>1) THEN 'geändert von PlanBereich: ' || replace(case when try(@x1 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x1)>=0)then @x1 Else array(@x1)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;  WHEN try(@x1 IS NOT NULL) THEN 'geändert von PlanBereich: '||@x1&#xd;&#xa;ELSE '' END&#xd;&#xa;)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|nummer&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x2',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|nummer&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x2)>0) THEN replace(case when try(@x2 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x2)>=0)then @x2 Else array(@x2)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x2 IS NOT NULL) THEN @x2&#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x3',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsArt&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x3)>0) THEN replace(case when try(@x3 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x3)>=0)then @x3 Else array(@x3 )end, case &#xd;&#xa;&#x9;when @element =1000  then 'Änderung'&#xd;&#xa;&#x9;when @element =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @element =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @element =10002 then 'Streichung'&#xd;&#xa;&#x9;when @element =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @element =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa; )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x3 IS NOT NULL) THEN &#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when @x3 =1000  then 'Änderung'&#xd;&#xa;&#x9;when @x3 =10000 then 'Ersetzung'&#xd;&#xa;&#x9;when @x3 =10001 then 'Ergänzung'&#xd;&#xa;&#x9;when @x3 =10002 then 'Streichung'&#xd;&#xa;&#x9;when @x3 =2000  then 'Aufhebung'&#xd;&#xa;&#x9;when @x3 =3000  then 'Überplanung'&#xd;&#xa;&#x9;Else'' End &#xd;&#xa;ELSE '' END)&#xd;&#xa;&#xd;&#xa;||case when try(&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot; is not null) then '; ' else '' end &#xd;&#xa;|| with_variable('x4',&quot;wurdeGeaendertVonPlanBereich|XP_VerbundenerPlanBereich|aenderungsdatum&quot;, CASE &#xd;&#xa;WHEN try(array_length(@x4)>0) THEN replace(case when try(@x4 is not NULL)then array_to_string(array_foreach(case when try(array_length(@x4)>=0)then @x4 Else array(@x4)end, @element )) ELSE ''END ,',', '\n' )&#xd;&#xa;WHEN try(@x4 IS NOT NULL) THEN @x4&#xd;&#xa;ELSE '' END)  &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;End &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;/p>'||'------------------------- Rechtsgrundlage ------------------------- '||'&lt;p>'&#xd;&#xa;&#xd;&#xa;/* Rechtsgrundlage v5 */&#xd;&#xa;|| Case When try(&quot;versionBauNVOText&quot; is not null) then &#xd;&#xa;&#x9;case&#xd;&#xa;&#x9;when length(&quot;versionBauNVOText&quot;)>30 then '&lt;/p>'|| 'BauNVO: '||left(&quot;versionBauNVOText&quot;,30) || '...'&#xd;&#xa;&#x9;when length(&quot;versionBauNVOText&quot;)&lt;31 then '&lt;/p>'|| &quot;versionBauNVOText&quot;&#xd;&#xa;&#x9;END &#xd;&#xa;ELSE'' END  &#xd;&#xa;|| Case When try(&quot;versionBauNVODatum&quot; is not null) then ' von '||&quot;versionBauNVODatum&quot; ||'&lt;p>'ELSE'' END &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;|| Case When try(&quot;versionBauGBText&quot; is not null) then &#xd;&#xa;&#x9;case&#xd;&#xa;&#x9;when length(&quot;versionBauGBText&quot;)>30 then '&lt;/p>'|| 'BauGB:'||left(&quot;versionBauGBText&quot;,30) || '...'&#xd;&#xa;&#x9;when length(&quot;versionBauGBText&quot;)&lt;31 then '&lt;/p>'|| &quot;versionBauGBText&quot;&#xd;&#xa;&#x9;END &#xd;&#xa;ELSE'' END&#xd;&#xa;|| Case When  try(&quot;versionBauGBDatum&quot; is not null) then ' von '||&quot;versionBauGBDatum&quot; ||'&lt;p>'ELSE'' END  &#xd;&#xa;&#xd;&#xa;|| Case When try(&quot;versionSonstRechtsgrundlageText&quot; is not null)   then &#xd;&#xa;  case &#xd;&#xa;  when length(&quot;versionSonstRechtsgrundlageText&quot;)>45 then'&lt;/p>'||'\nsonst.Rechtsgrundlage '||length(&quot;versionSonstRechtsgrundlageText&quot;) || ' Zeichen'  &#xd;&#xa;  when length(&quot;versionSonstRechtsgrundlageText&quot;)&lt;46 then'&lt;/p>'||'\n'||&quot;versionSonstRechtsgrundlageText&quot;&#xd;&#xa;  END &#xd;&#xa;ELSE'' END&#xd;&#xa;|| Case When try(&quot;versionSonstRechtsgrundlageDatum&quot; is not null) then ' von '||&quot;versionSonstRechtsgrundlageDatum&quot; ||'&lt;p>'ELSE'' END  &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;/* Rechtsgrundlage v6 &#xd;&#xa;BauNVO 03-2025: 6566 BP_Plan im KRZN, davon 4922 leer und 564 verschiedene Einträge&#xd;&#xa;BauGB  03-2025: 6566 BP_Plan im KRZN, davon 4998 leer und 657 verschiedene Einträge&#xd;&#xa;*/&#xd;&#xa;||Case When try(&quot;versionBauNVO|XP_GesetzlicheGrundlage|name&quot; is not null)then 'BauNVO etc:' ELSE'' END  &#xd;&#xa;||Case When try(&quot;versionBauNVO|XP_GesetzlicheGrundlage|datum&quot; is not null)then ' von '||&quot;versionBauNVO|XP_GesetzlicheGrundlage|datum&quot; ELSE'' END &#xd;&#xa;||Case When try(&quot;versionBauNVO|XP_GesetzlicheGrundlage|detail&quot; is not null)then ' (Details:'||length(&quot;versionBauNVO|XP_GesetzlicheGrundlage|detail&quot;)||' Zeichen)' ELSE'' END  &#xd;&#xa;||Case When try(&quot;detail&quot; is not null)   then ' (Details:'||length(&quot;detail&quot;)||' Zeichen)' ELSE'' END  /* für den Sonderfall, das Detail zum ersten Mal auftaucht*/&#xd;&#xa;&#xd;&#xa;||Case When try(&quot;versionBauGB|XP_GesetzlicheGrundlage|name&quot;is not null)then  '&lt;/p>'||'BauGB etc:' ELSE'' END &#xd;&#xa;||Case When try(&quot;versionBauGB|XP_GesetzlicheGrundlage|datum&quot;is not null)then ' von '||&quot;versionBauGB|XP_GesetzlicheGrundlage|datum&quot; ELSE'' END &#xd;&#xa;||Case When try(&quot;versionBauGB|XP_GesetzlicheGrundlage|detail&quot;is not null)then ' (Details:'||length(&quot;versionBauGB|XP_GesetzlicheGrundlage|detail&quot;)||' Zeichen)' ELSE'' END  &#xd;&#xa;&#xd;&#xa;+case when try(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot; is not NULL) then '&lt;/p>&lt;p>'ELSE''END&#xd;&#xa;&#xd;&#xa; &#xd;&#xa;||case &#xd;&#xa;when try(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot; is not null) then &#xd;&#xa; case&#xd;&#xa; &#xd;&#xa; when try(array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;)=&#xd;&#xa; array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot;) and &#xd;&#xa; array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot;)=&#xd;&#xa; array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|detail&quot;)) then&#xd;&#xa; &#xd;&#xa; /* array >1 */&#xd;&#xa;&#x9;with_variable('counter', array( 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17),replace( array_to_string(array_foreach(@counter,&#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when length (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;[@element]) > 30 &#xd;&#xa;&#x9;then left (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;[@element],30) || '...'&#xd;&#xa;&#x9;when length (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;[@element]) &lt; 31 &#xd;&#xa;&#x9;then &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;[@element]&#xd;&#xa;&#x9;Else '' end&#xd;&#xa;&#x9;||'('  ||  &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot;[@element] || ')(Details:'&#xd;&#xa;&#x9;&#xd;&#xa;&#x9;|| length (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|detail&quot;[@element])  || ' Zeichen' &#xd;&#xa;&#x9;|| ')' || '&lt;/p>' || '&lt;p>'&#xd;&#xa;&#x9;)),',','')) &#xd;&#xa; &#xd;&#xa; /* array =1 */ &#xd;&#xa;  when try(array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;)>0) then&#xd;&#xa;&#x9;array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;) || '*sonst.Rechtsgrundlage mit '  || &#xd;&#xa;&#x9;array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot;) || '*Datum und ' || &#xd;&#xa;&#x9;array_length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|detail&quot;) || '* Details'&#xd;&#xa;&#x9;&#xd;&#xa; /* nur 1 ohne array */&#x9;&#xd;&#xa;  when try(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot; is not null) then&#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when length (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;) > 30 &#xd;&#xa;&#x9;then left (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;,30) || '...'&#xd;&#xa;&#x9;when length (&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;) &lt; 31 &#xd;&#xa;&#x9;then &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|name&quot;&#xd;&#xa;&#x9;Else '' end&#xd;&#xa;&#x9;|| &#x9;case &#x9;when try( &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot; is not null) then &#xd;&#xa;&#x9;' vom '  ||  &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|datum&quot;|| ')' ELSE'' END &#xd;&#xa;&#x9;|| &#x9;case &#x9;when try( &quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|detail&quot; is not null) then &#xd;&#xa;&#x9;'(Details:'||length(&quot;versionSonstRechtsgrundlage|XP_GesetzlicheGrundlage|detail&quot;) || 'zeichen )' ELSE'' END &#xd;&#xa;&#x9;&#xd;&#xa;ELSE '' END &#xd;&#xa;ELSE '' END &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa; || '&lt;/p>'||'&lt;p>'||'&lt;/p>'||'-------------------------------  Timeline ------------------------------- '||'&lt;p>'&#xd;&#xa;|| Case When try(&quot;technHerstellDatum&quot; is not null) then '&lt;/p>'|| 'techn.Herstellung:'||&quot;technHerstellDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP  */&#xd;&#xa;|| Case When try(&quot;genehmigungsDatum&quot; is not null) then '&lt;/p>'||'Genehmigung:'||&quot;genehmigungsDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP */ &#xd;&#xa;|| Case When try(&quot;untergangsDatum&quot; is not null) then '&lt;/p>'||'Untergang:'||&quot;untergangsDatum&quot; ELSE'' ||'&lt;p>'END /* BP/FP */&#xd;&#xa;|| Case When try(&quot;aufstellungsbeschlussDatum&quot; is not null) then '&lt;/p>'||'Aufstellungsbeschluss:'||&quot;aufstellungsbeschlussDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP */&#xd;&#xa;&#xd;&#xa;|| Case When try(&quot;fruehzeitigeOeffentlichkeitsbeteiligungsStartDatum&quot; is not null) then '&lt;/p>'||'Start frühzeitige Öffentlichkeitsbeteiligung: '||&quot;fruehzeitigeOeffentlichkeitsbeteiligungsStartDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP neu in 6.1*/&#xd;&#xa;|| Case When try(&quot;fruehzeitigeOeffentlichkeitsbeteiligungsEndDatum&quot; is not null) then '&lt;/p>'||'Ende frühzeitige Öffentlichkeitsbeteiligung: '||&quot;fruehzeitigeOeffentlichkeitsbeteiligungsEndDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP neu in 6.1*/&#xd;&#xa;|| Case When try(&quot;fruehzeitigeTraegerbeteiligungsStartDatum&quot; is not null) then '&lt;/p>'||'Start frühzeitige Trägerbeteiligung: '||&quot;fruehzeitigeTraegerbeteiligungsStartDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP neu in 6.1*/&#xd;&#xa;|| Case When try(&quot;fruehzeitigeTraegerbeteiligungsEndDatum&quot; is not null) then '&lt;/p>'||'Ende frühzeitige Traegerbeteiligung: '||&quot;fruehzeitigeTraegerbeteiligungsEndDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP neu in 6.1*/&#xd;&#xa;&#xd;&#xa;||with_variable('schleife',&quot;auslegungsStartDatum&quot;,/* BP/FP */&#xd;&#xa;case when try(@schleife is not NULL) then '&lt;/p>'|| 'Start Auslegung:' ELSE''&#x9;&#x9;END&#xd;&#xa;||replace(case when try(@schleife is not NULL)then array_to_string(array_foreach(case when try(array_length(@schleife)>=0)then @schleife Else array(@schleife)end, @element )) ELSE '' END ,', ', '\n' ))||'&lt;p>' || '&lt;/p>'&#xd;&#xa;&#xd;&#xa;||with_variable('schleife',&quot;auslegungsEndDatum&quot;,/* BP/FP */&#xd;&#xa;case when try(@schleife is not NULL) then'&lt;/p>'|| 'Ende Auslegung:' ELSE''&#x9;&#x9;END&#xd;&#xa;||replace(case when try(@schleife is not NULL)then array_to_string(array_foreach(case when try(array_length(@schleife)>=0)then @schleife Else array(@schleife)end, @element )) ELSE '' END ,', ', '\n' )) ||'&lt;p>' || '&lt;/p>'&#xd;&#xa;&#xd;&#xa;||with_variable('schleife',&quot;traegerbeteiligungsStartDatum&quot;,/* BP/FP */&#xd;&#xa;case when try(@schleife is not NULL) then'&lt;/p>'|| 'Start Trägerbeteiligung:' ELSE''&#x9;&#x9;END&#xd;&#xa;||replace(case when try(@schleife is not NULL)then array_to_string(array_foreach(case when try(array_length(@schleife)>=0)then @schleife Else array(@schleife)end, @element )) ELSE '' END ,', ', '\n' )) ||'&lt;p>' || '&lt;/p>'&#xd;&#xa;&#xd;&#xa;||with_variable('schleife',&quot;traegerbeteiligungsEndDatum&quot;,/* BP/FP */&#xd;&#xa;case when try(@schleife is not NULL) then'&lt;/p>'|| 'Ende Trägerbeteiligung:' ELSE''&#x9;&#x9;END&#xd;&#xa;||replace(case when try(@schleife is not NULL)then array_to_string(array_foreach(case when try(array_length(@schleife)>=0)then @schleife Else array(@schleife)end, @element )) ELSE '' END ,', ', '\n' )) ||'&lt;p>' || '&lt;/p>'&#xd;&#xa;&#xd;&#xa;|| Case When try(&quot;satzungsbeschlussDatum&quot; is not null) then '&lt;/p>'||'Satzungsbeschluss:'||&quot;satzungsbeschlussDatum&quot; ||'&lt;p>'ELSE'' END /* BP */&#xd;&#xa;|| Case When try(&quot;rechtsverordnungsDatum&quot; is not null) then '&lt;/p>'||'Rechtsverordnung:'||&quot;rechtsverordnungsDatum&quot; ||'&lt;p>'ELSE'' END /* BP */&#xd;&#xa;|| Case When try(&quot;inkrafttretensDatum&quot; is not null) then '&lt;/p>'||'Inkrafttreten:'||&quot;inkrafttretensDatum&quot; ||'&lt;p>'ELSE'' END /* BP */&#xd;&#xa;|| Case When try(&quot;ausfertigungsDatum&quot; is not null) then '&lt;/p>'||'Ausfertigung:'||&quot;ausfertigungsDatum&quot; ||'&lt;p>'ELSE'' END /* BP */&#xd;&#xa;|| Case When try(&quot;aenderungenBisDatum&quot; is not null)then '&lt;/p>'||'Änderungen bis:'||&quot;aenderungenBisDatum&quot; ||'&lt;p>'ELSE'' END /* BP/FP */&#xd;&#xa;|| Case When try(&quot;entwurfsbeschlussDatum&quot; is not null)then '&lt;/p>'||'Entwurfsbeschluss:'||&quot;entwurfsbeschlussDatum&quot; ||'&lt;p>'ELSE'' END /* FP */&#xd;&#xa;|| Case When try(&quot;planbeschlussDatum&quot; is not null)then '&lt;/p>'||'Planbeschluss:'||&quot;planbeschlussDatum&quot; ||'&lt;p>'ELSE'' END /* FP */&#xd;&#xa;|| Case When try(&quot;wirksamkeitsDatum&quot; is not null)then '&lt;/p>'||'Wirksamkeit:'||&quot;wirksamkeitsDatum&quot; ||'&lt;p>'ELSE'' END /* FP */&#xd;&#xa;/*----------------------------------- timeline ende -----------------------------------------------------*/&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa; || replace(&#xd;&#xa;&#x9;case &#xd;&#xa;&#x9;when try(&quot;referenzURL&quot;is not NULL)&#x9;then array_to_string(array_foreach(&#xd;&#xa;&#x9;&#x9;case &#xd;&#xa;&#x9;&#x9;when try(array_length(&quot;referenzURL&quot;)>=0)then &quot;referenzURL&quot; &#xd;&#xa;&#x9;&#x9;Else array(&quot;referenzURL&quot;)&#xd;&#xa;&#x9;&#x9;end&#xd;&#xa;&#x9;, &#xd;&#xa;&#x9;&#xd;&#xa;&#x9;    case&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=1000) then '\nBeschreibung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1010) then '\nBegründung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1020) then '\nPlan-Legende: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1030) then '\nRechtsplan: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=1040) then '\nPlangrundlage: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1050) then '\nUmweltbericht: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1060) then '\nSatzung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1065) then '\nVerordnung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1070) then '\nKarte: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1080) then '\nErläuterung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1090) then '\nzusam.fass.Erklär.: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2000) then '\nKoord.Liste: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2100) then '\nGrundstücksverz.: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2200) then '\nPflanzliste: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2300) then '\nGrünordnungsplan: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=2400) then '\nErschl.Vertrag: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2500) then '\nDurchführ.Vertrag: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2600) then '\nStädtebaulicher Vertrag: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2700) then '\nUmweltbez.Stellungnahme: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2800) then '\nBeschluss: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2900) then '\nV&amp;E-Plan: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=3000) then '\nMetadatenPlan: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=3100) then '\nStädtebaul.Entw.Konzept: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=4000) then '\nGenehmigung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=5000) then '\nBekanntmachung: ...'+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=9998) then '\nsonst.r.v.Dok: ...'+right(referenzURL[@element],40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=9999) then '\nsonst.n.r.v.Dok: ...'+right(referenzURL[@element],40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;ELSE '' END &#xd;&#xa;&#x9;&#xd;&#xa;&#x9;&#xd;&#xa;&#x9;)) &#xd;&#xa;&#x9;ELSE ''&#xd;&#xa;&#x9;END&#xd;&#xa;,',', '&lt;/p>&lt;p>' )&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;+ case &#xd;&#xa;when try(array_length(&quot;typ&quot;)>0)then '----------------------------  '+to_string(array_length(&quot;typ&quot;))+' Dokumente ---------------------------- '||'&lt;/p>'||'&lt;p>'&#xd;&#xa;when try(&quot;typ&quot; is not null)then  '----------------------------  1 Dokument ---------------------------- '||'&lt;/p>'||'&lt;p>'&#xd;&#xa;when try(&quot;typ&quot;is null)then  '----------------------------  0 Dokumente ---------------------------- '||'&lt;/p>'||'&lt;p>'&#xd;&#xa;ELSE '' END &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;||'&lt;p>' || &#xd;&#xa;&#xd;&#xa;&#xd;&#xa; with_variable('counter', array( 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17),replace( array_to_string(array_foreach(@counter,&#xd;&#xa;    case&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=1000) then '\nBeschreibung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1010) then '\nBegründung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1020) then '\nPlan-Legende: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1030) then '\nRechtsplan: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=1040) then '\nPlangrundlage: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1050) then '\nUmweltbericht: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1060) then '\nSatzung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1065) then '\nVerordnung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1070) then '\nKarte: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1080) then '\nErläuterung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=1090) then '\nzusam.fass.Erklär.: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2000) then '\nKoord.Liste: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2100) then '\nGrundstücksverz.: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2200) then '\nPflanzliste: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2300) then '\nGrünordnungsplan: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=2400) then '\nErschl.Vertrag: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2500) then '\nDurchführ.Vertrag: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2600) then '\nStädtebaulicher Vertrag: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2700) then '\nUmweltbez.Stellungnahme: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2800) then '\nBeschluss: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=2900) then '\nV&amp;E-Plan: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=3000) then '\nMetadatenPlan: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=3100) then '\nStädtebaul.Entw.Konzept: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=4000) then '\nGenehmigung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;[@element]=5000) then '\nBekanntmachung: '+right(referenzURL[@element],50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=9998) then '\nsonst.r.v.Dok: '+right(referenzURL[@element],40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;[@element]=9999) then '\nsonst.n.r.v.Dok: '+right(referenzURL[@element],40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;typ&quot; is not null and @element=1) then &#xd;&#xa;&#x9;case&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=1000) then '\nBeschreibung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1010) then '\nBegründung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1020) then '\nPlan-Legende: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1030) then '\nRechtsplan: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=1040) then '\nPlangrundlage: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1050) then '\nUmweltbericht: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1060) then '\nSatzung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1065) then '\nVerordnung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1070) then '\nKarte: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1080) then '\nErläuterung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=1090) then '\nzusam.fass.Erklär.: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2000) then '\nKoord.Liste: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2100) then '\nGrundstücksverz.: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2200) then '\nPflanzliste: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2300) then '\nGrünordnungsplan: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=2400) then '\nErschl.Vertrag: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2500) then '\nDurchführ.Vertrag: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2600) then '\nStädtebaul.Vertrag: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2700) then '\nUmweltbez.Stellungnahme: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2800) then '\nBeschluss: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=2900) then '\nV&amp;E-Plan: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=3000) then '\nMetadatenPlan: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=3100) then '\nStädtebaul.Entw.Konzept: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=4000) then '\nGenehmigung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;when try(&quot;Typ&quot;=5000) then '\nBekanntmachung: '+right(referenzURL,50)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=9998) then '\nsonst.r.v.Dok: '+right(referenzURL,40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;    when try(&quot;Typ&quot;=9999) then '\nsonst.n.r.v.Dok: '+right(referenzURL,40)||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#x9;ELSE '' END &#xd;&#xa;&#x9;    else ''end)),',','')) &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#x9;&#x9;||'&lt;p>' || &#xd;&#xa;&#xd;&#xa;+case when try(&quot;referenzURL&quot;is not NULL)then'\n'ELSE''END&#xd;&#xa;+replace(case when try(&quot;referenzURL&quot;is not NULL)then array_to_string(array_foreach(case when try(array_length(&quot;referenzURL&quot;)>=0)then &quot;referenzURL&quot; Else array(&quot;referenzURL&quot;)end,&#xd;&#xa;case&#xd;&#xa;WHEN left(@element,2)='.\\' THEN '&lt;span style=&quot;color:#FF0000&quot;>'||'referenzURL defekt: ' || left(@element,15) || '...'||'&lt;/span>'||'&lt;/p>'||'&lt;p>'&#xd;&#xa;WHEN left(@element,1)='.' THEN '&lt;span style=&quot;color:#FF0000&quot;>'||'referenzURL defekt: ' || left(@element,15) || '...'||'&lt;/span>'||'&lt;/p>'||'&lt;p>'&#xd;&#xa;&#xd;&#xa;else ''end&#xd;&#xa;)) ELSE ''END ,',', '\n' )" fontStrikeout="0" tabStopDistance="80" stretchFactor="100" allowHtml="1" fontWordSpacing="0" blendMode="0" fontFamily="Arial" tabStopDistanceMapUnitScale="3x:0,0,0,0,0,0" fontSizeMapUnitScale="3x:0,0,0,0,0,0">
        <families/>
        <text-buffer bufferSizeMapUnitScale="3x:0,0,0,0,0,0" bufferNoFill="1" bufferSize="1" bufferOpacity="1" bufferSizeUnits="MM" bufferJoinStyle="128" bufferColor="250,250,250,255,rgb:0.9803922,0.9803922,0.9803922,1" bufferBlendMode="0" bufferDraw="0"/>
        <text-mask maskSizeMapUnitScale="3x:0,0,0,0,0,0" maskOpacity="1" maskedSymbolLayers="" maskType="0" maskEnabled="0" maskJoinStyle="128" maskSize2="1.5" maskSizeUnits="MM" maskSize="1.5"/>
        <background shapeSizeType="0" shapeRotation="0" shapeBorderWidthMapUnitScale="3x:0,0,0,0,0,0" shapeFillColor="224,224,224,255,rgb:0.8784314,0.8784314,0.8784314,1" shapeBorderColor="0,0,0,255,rgb:0,0,0,1" shapeRadiiX="0" shapeBorderWidthUnit="MM" shapeOffsetMapUnitScale="3x:0,0,0,0,0,0" shapeSizeUnit="Pixel" shapeBorderWidth="0" shapeOffsetY="0" shapeRadiiUnit="Point" shapeSizeX="10" shapeSVGFile="" shapeRadiiY="0" shapeOpacity="1" shapeRotationType="0" shapeRadiiMapUnitScale="3x:0,0,0,0,0,0" shapeSizeMapUnitScale="3x:0,0,0,0,0,0" shapeSizeY="0" shapeOffsetX="0" shapeDraw="1" shapeBlendMode="0" shapeType="0" shapeJoinStyle="64" shapeOffsetUnit="Point">
          <symbol alpha="1" force_rhr="0" type="marker" name="markerSymbol" is_animated="0" clip_to_extent="1" frame_rate="10">
            <data_defined_properties>
              <Option type="Map">
                <Option type="QString" name="name" value=""/>
                <Option name="properties"/>
                <Option type="QString" name="type" value="collection"/>
              </Option>
            </data_defined_properties>
            <layer class="SimpleMarker" pass="0" id="" enabled="1" locked="0">
              <Option type="Map">
                <Option type="QString" name="angle" value="0"/>
                <Option type="QString" name="cap_style" value="square"/>
                <Option type="QString" name="color" value="133,182,111,255,rgb:0.5215686,0.7137255,0.4352941,1"/>
                <Option type="QString" name="horizontal_anchor_point" value="1"/>
                <Option type="QString" name="joinstyle" value="bevel"/>
                <Option type="QString" name="name" value="circle"/>
                <Option type="QString" name="offset" value="0,0"/>
                <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
                <Option type="QString" name="offset_unit" value="MM"/>
                <Option type="QString" name="outline_color" value="35,35,35,255,rgb:0.1372549,0.1372549,0.1372549,1"/>
                <Option type="QString" name="outline_style" value="solid"/>
                <Option type="QString" name="outline_width" value="0"/>
                <Option type="QString" name="outline_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
                <Option type="QString" name="outline_width_unit" value="MM"/>
                <Option type="QString" name="scale_method" value="diameter"/>
                <Option type="QString" name="size" value="2"/>
                <Option type="QString" name="size_map_unit_scale" value="3x:0,0,0,0,0,0"/>
                <Option type="QString" name="size_unit" value="MM"/>
                <Option type="QString" name="vertical_anchor_point" value="1"/>
              </Option>
              <data_defined_properties>
                <Option type="Map">
                  <Option type="QString" name="name" value=""/>
                  <Option name="properties"/>
                  <Option type="QString" name="type" value="collection"/>
                </Option>
              </data_defined_properties>
            </layer>
          </symbol>
          <symbol alpha="1" force_rhr="0" type="fill" name="fillSymbol" is_animated="0" clip_to_extent="1" frame_rate="10">
            <data_defined_properties>
              <Option type="Map">
                <Option type="QString" name="name" value=""/>
                <Option name="properties"/>
                <Option type="QString" name="type" value="collection"/>
              </Option>
            </data_defined_properties>
            <layer class="SimpleFill" pass="0" id="" enabled="1" locked="0">
              <Option type="Map">
                <Option type="QString" name="border_width_map_unit_scale" value="3x:0,0,0,0,0,0"/>
                <Option type="QString" name="color" value="224,224,224,255,rgb:0.8784314,0.8784314,0.8784314,1"/>
                <Option type="QString" name="joinstyle" value="bevel"/>
                <Option type="QString" name="offset" value="0,0"/>
                <Option type="QString" name="offset_map_unit_scale" value="3x:0,0,0,0,0,0"/>
                <Option type="QString" name="offset_unit" value="MM"/>
                <Option type="QString" name="outline_color" value="0,0,0,255,rgb:0,0,0,1"/>
                <Option type="QString" name="outline_style" value="solid"/>
                <Option type="QString" name="outline_width" value="0"/>
                <Option type="QString" name="outline_width_unit" value="MM"/>
                <Option type="QString" name="style" value="solid"/>
              </Option>
              <effect type="effectStack" enabled="0">
                <effect type="dropShadow">
                  <Option type="Map">
                    <Option type="QString" name="blend_mode" value="13"/>
                    <Option type="QString" name="blur_level" value="2.645"/>
                    <Option type="QString" name="blur_unit" value="MM"/>
                    <Option type="QString" name="blur_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="color" value="0,0,0,255,rgb:0,0,0,1"/>
                    <Option type="QString" name="draw_mode" value="2"/>
                    <Option type="QString" name="enabled" value="0"/>
                    <Option type="QString" name="offset_angle" value="135"/>
                    <Option type="QString" name="offset_distance" value="2"/>
                    <Option type="QString" name="offset_unit" value="MM"/>
                    <Option type="QString" name="offset_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="opacity" value="1"/>
                  </Option>
                </effect>
                <effect type="outerGlow">
                  <Option type="Map">
                    <Option type="QString" name="blend_mode" value="0"/>
                    <Option type="QString" name="blur_level" value="0.7935"/>
                    <Option type="QString" name="blur_unit" value="MM"/>
                    <Option type="QString" name="blur_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="color1" value="0,0,255,255,rgb:0,0,1,1"/>
                    <Option type="QString" name="color2" value="0,255,0,255,rgb:0,1,0,1"/>
                    <Option type="QString" name="color_type" value="0"/>
                    <Option type="QString" name="direction" value="ccw"/>
                    <Option type="QString" name="discrete" value="0"/>
                    <Option type="QString" name="draw_mode" value="2"/>
                    <Option type="QString" name="enabled" value="0"/>
                    <Option type="QString" name="opacity" value="0.5"/>
                    <Option type="QString" name="rampType" value="gradient"/>
                    <Option type="QString" name="single_color" value="255,255,255,255,rgb:1,1,1,1"/>
                    <Option type="QString" name="spec" value="rgb"/>
                    <Option type="QString" name="spread" value="2"/>
                    <Option type="QString" name="spread_unit" value="MM"/>
                    <Option type="QString" name="spread_unit_scale" value="3x:0,0,0,0,0,0"/>
                  </Option>
                </effect>
                <effect type="blur">
                  <Option type="Map">
                    <Option type="QString" name="blend_mode" value="0"/>
                    <Option type="QString" name="blur_level" value="2.645"/>
                    <Option type="QString" name="blur_method" value="0"/>
                    <Option type="QString" name="blur_unit" value="MM"/>
                    <Option type="QString" name="blur_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="draw_mode" value="2"/>
                    <Option type="QString" name="enabled" value="1"/>
                    <Option type="QString" name="opacity" value="1"/>
                  </Option>
                </effect>
                <effect type="innerShadow">
                  <Option type="Map">
                    <Option type="QString" name="blend_mode" value="13"/>
                    <Option type="QString" name="blur_level" value="2.645"/>
                    <Option type="QString" name="blur_unit" value="MM"/>
                    <Option type="QString" name="blur_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="color" value="0,0,0,255,rgb:0,0,0,1"/>
                    <Option type="QString" name="draw_mode" value="2"/>
                    <Option type="QString" name="enabled" value="0"/>
                    <Option type="QString" name="offset_angle" value="135"/>
                    <Option type="QString" name="offset_distance" value="2"/>
                    <Option type="QString" name="offset_unit" value="MM"/>
                    <Option type="QString" name="offset_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="opacity" value="1"/>
                  </Option>
                </effect>
                <effect type="innerGlow">
                  <Option type="Map">
                    <Option type="QString" name="blend_mode" value="0"/>
                    <Option type="QString" name="blur_level" value="0.7935"/>
                    <Option type="QString" name="blur_unit" value="MM"/>
                    <Option type="QString" name="blur_unit_scale" value="3x:0,0,0,0,0,0"/>
                    <Option type="QString" name="color1" value="0,0,255,255,rgb:0,0,1,1"/>
                    <Option type="QString" name="color2" value="0,255,0,255,rgb:0,1,0,1"/>
                    <Option type="QString" name="color_type" value="0"/>
                    <Option type="QString" name="direction" value="ccw"/>
                    <Option type="QString" name="discrete" value="0"/>
                    <Option type="QString" name="draw_mode" value="2"/>
                    <Option type="QString" name="enabled" value="0"/>
                    <Option type="QString" name="opacity" value="0.5"/>
                    <Option type="QString" name="rampType" value="gradient"/>
                    <Option type="QString" name="single_color" value="255,255,255,255,rgb:1,1,1,1"/>
                    <Option type="QString" name="spec" value="rgb"/>
                    <Option type="QString" name="spread" value="2"/>
                    <Option type="QString" name="spread_unit" value="MM"/>
                    <Option type="QString" name="spread_unit_scale" value="3x:0,0,0,0,0,0"/>
                  </Option>
                </effect>
              </effect>
              <data_defined_properties>
                <Option type="Map">
                  <Option type="QString" name="name" value=""/>
                  <Option name="properties"/>
                  <Option type="QString" name="type" value="collection"/>
                </Option>
              </data_defined_properties>
            </layer>
          </symbol>
        </background>
        <shadow shadowOffsetGlobal="1" shadowRadiusUnit="MM" shadowScale="100" shadowRadiusMapUnitScale="3x:0,0,0,0,0,0" shadowBlendMode="6" shadowOpacity="0.69999999999999996" shadowColor="0,0,0,255,rgb:0,0,0,1" shadowUnder="0" shadowOffsetAngle="135" shadowRadiusAlphaOnly="0" shadowDraw="1" shadowOffsetUnit="MM" shadowOffsetDist="1" shadowOffsetMapUnitScale="3x:0,0,0,0,0,0" shadowRadius="1.5"/>
        <dd_properties>
          <Option type="Map">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
        </dd_properties>
        <substitutions/>
      </text-style>
      <text-format placeDirectionSymbol="0" leftDirectionSymbol="&lt;" wrapChar="" addDirectionSymbol="0" autoWrapLength="80" multilineAlign="1" useMaxLineLengthForAutoWrap="1" rightDirectionSymbol=">" formatNumbers="0" reverseDirectionSymbol="0" plussign="0" decimals="3"/>
      <placement maxCurvedCharAngleOut="-25" dist="0" centroidWhole="0" lineAnchorPercent="0.5" maximumDistance="0" preserveRotation="1" placement="1" labelOffsetMapUnitScale="3x:0,0,0,0,0,0" allowDegraded="0" rotationUnit="AngleDegrees" repeatDistance="0" offsetUnits="MM" geometryGenerator="transform(make_point( x_min( @map_extent ), y_max(@map_extent)),  @map_crs,@layer_crs  )" fitInPolygonOnly="0" lineAnchorTextPoint="FollowPlacement" geometryGeneratorType="PointGeometry" quadOffset="6" priority="5" geometryGeneratorEnabled="0" repeatDistanceUnits="MM" placementFlags="10" overrunDistanceMapUnitScale="3x:0,0,0,0,0,0" centroidInside="0" xOffset="0" maxCurvedCharAngleIn="25" distUnits="Pixel" predefinedPositionOrder="TR,TL,BR,BL,R,L,TSR,BSR" offsetType="0" maximumDistanceMapUnitScale="3x:0,0,0,0,0,0" maximumDistanceUnit="MM" distMapUnitScale="3x:0,0,0,0,0,0" polygonPlacementFlags="2" lineAnchorType="0" lineAnchorClipping="0" overlapHandling="AllowOverlapAtNoCost" overrunDistance="0" prioritization="PreferCloser" repeatDistanceMapUnitScale="3x:0,0,0,0,0,0" yOffset="0" layerType="PolygonGeometry" overrunDistanceUnit="MM" rotationAngle="0"/>
      <rendering scaleMin="499" fontMinPixelSize="3" mergeLines="0" labelPerPart="0" fontMaxPixelSize="10000" fontLimitPixelSize="0" scaleVisibility="1" obstacle="1" minFeatureSize="0" obstacleFactor="1" scaleMax="1000000" unplacedVisibility="0" upsidedownLabels="0" obstacleType="1" zIndex="0" limitNumLabels="0" maxNumLabels="2000" drawLabels="1"/>
      <dd_properties>
        <Option type="Map">
          <Option type="QString" name="name" value=""/>
          <Option type="Map" name="properties">
            <Option type="Map" name="PositionPoint">
              <Option type="bool" name="active" value="true"/>
              <Option type="QString" name="expression" value="transform(make_point( x_min( @map_extent )+ 2*@map_scale/500 , y_min(@map_extent)+1*@map_scale/500),  @map_crs,@layer_crs  )"/>
              <Option type="int" name="type" value="3"/>
            </Option>
          </Option>
          <Option type="QString" name="type" value="collection"/>
        </Option>
      </dd_properties>
      <callout type="simple">
        <Option type="Map">
          <Option type="QString" name="anchorPoint" value="pole_of_inaccessibility"/>
          <Option type="int" name="blendMode" value="0"/>
          <Option type="Map" name="ddProperties">
            <Option type="QString" name="name" value=""/>
            <Option name="properties"/>
            <Option type="QString" name="type" value="collection"/>
          </Option>
          <Option type="bool" name="drawToAllParts" value="false"/>
          <Option type="QString" name="enabled" value="0"/>
          <Option type="QString" name="labelAnchorPoint" value="point_on_exterior"/>
          <Option type="QString" name="lineSymbol" value="&lt;symbol alpha=&quot;1&quot; force_rhr=&quot;0&quot; type=&quot;line&quot; name=&quot;symbol&quot; is_animated=&quot;0&quot; clip_to_extent=&quot;1&quot; frame_rate=&quot;10&quot;>&lt;data_defined_properties>&lt;Option type=&quot;Map&quot;>&lt;Option type=&quot;QString&quot; name=&quot;name&quot; value=&quot;&quot;/>&lt;Option name=&quot;properties&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;type&quot; value=&quot;collection&quot;/>&lt;/Option>&lt;/data_defined_properties>&lt;layer class=&quot;SimpleLine&quot; pass=&quot;0&quot; id=&quot;{d7c9db43-7e49-4582-9f81-f8317bc8d4f2}&quot; enabled=&quot;1&quot; locked=&quot;0&quot;>&lt;Option type=&quot;Map&quot;>&lt;Option type=&quot;QString&quot; name=&quot;align_dash_pattern&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;capstyle&quot; value=&quot;square&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;customdash&quot; value=&quot;5;2&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;customdash_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;customdash_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;dash_pattern_offset&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;dash_pattern_offset_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;dash_pattern_offset_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;draw_inside_polygon&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;joinstyle&quot; value=&quot;bevel&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;line_color&quot; value=&quot;60,60,60,255,rgb:0.2352941,0.2352941,0.2352941,1&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;line_style&quot; value=&quot;solid&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;line_width&quot; value=&quot;0.3&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;line_width_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;offset&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;offset_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;offset_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;ring_filter&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_end&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_end_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_end_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_start&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_start_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;trim_distance_start_unit&quot; value=&quot;MM&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;tweak_dash_pattern_on_corners&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;use_custom_dash&quot; value=&quot;0&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;width_map_unit_scale&quot; value=&quot;3x:0,0,0,0,0,0&quot;/>&lt;/Option>&lt;data_defined_properties>&lt;Option type=&quot;Map&quot;>&lt;Option type=&quot;QString&quot; name=&quot;name&quot; value=&quot;&quot;/>&lt;Option name=&quot;properties&quot;/>&lt;Option type=&quot;QString&quot; name=&quot;type&quot; value=&quot;collection&quot;/>&lt;/Option>&lt;/data_defined_properties>&lt;/layer>&lt;/symbol>"/>
          <Option type="double" name="minLength" value="0"/>
          <Option type="QString" name="minLengthMapUnitScale" value="3x:0,0,0,0,0,0"/>
          <Option type="QString" name="minLengthUnit" value="MM"/>
          <Option type="double" name="offsetFromAnchor" value="0"/>
          <Option type="QString" name="offsetFromAnchorMapUnitScale" value="3x:0,0,0,0,0,0"/>
          <Option type="QString" name="offsetFromAnchorUnit" value="MM"/>
          <Option type="double" name="offsetFromLabel" value="0"/>
          <Option type="QString" name="offsetFromLabelMapUnitScale" value="3x:0,0,0,0,0,0"/>
          <Option type="QString" name="offsetFromLabelUnit" value="MM"/>
        </Option>
      </callout>
    </settings>
  </labeling>
  <blendMode>0</blendMode>
  <featureBlendMode>0</featureBlendMode>
  <mapTip enabled="1"></mapTip>
  <layerGeometryType>2</layerGeometryType>
</qgis>
