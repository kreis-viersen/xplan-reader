<?xml version="1.0" encoding="UTF-8"?>
<!--
  #%L
  xplan-workspaces - Modul zur Gruppierung aller Workspaces
  %%
  Copyright (C) 2008 - 2022 lat/lon GmbH, info@lat-lon.de, www.lat-lon.de
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->

<FeatureTypeStyle xmlns="http://www.opengis.net/se" xmlns:se="http://www.opengis.net/se" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xplan="http://www.deegree.org/xplanung/1/0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd">
  <Name>vollflaechig</Name>
  <FeatureTypeName>xplan:XP_PTO</FeatureTypeName>
  <Rule>
    <Name>bp_xp_pto</Name>
    <Description>
      <Title>BP: Beschriftung</Title>
    </Description>
    <ogc:Filter>
      <ogc:And>
        <ogc:Not>
          <ogc:PropertyIsNull>
            <ogc:PropertyName>xplan:schriftinhalt</ogc:PropertyName>
          </ogc:PropertyIsNull>
        </ogc:Not>
        <ogc:PropertyIsEqualTo>
          <ogc:PropertyName>xplan:xpPlanType</ogc:PropertyName>
          <ogc:Literal>BP_Plan</ogc:Literal>
        </ogc:PropertyIsEqualTo>
      </ogc:And>
    </ogc:Filter>
    <MaxScaleDenominator>2500</MaxScaleDenominator>
    <se:TextSymbolizer uom="meter">
      <se:Geometry>
        <ogc:PropertyName>xplan:position</ogc:PropertyName>
      </se:Geometry>
      <se:Label>
        <ogc:PropertyName>xplan:schriftinhalt</ogc:PropertyName>
      </se:Label>
      <se:Font>
        <se:SvgParameter name="font-family">Arial</se:SvgParameter>
        <se:SvgParameter name="font-size">
          <ogc:Mul>
            <ogc:PropertyName>xplan:skalierung</ogc:PropertyName>
            <ogc:Literal>3</ogc:Literal>
          </ogc:Mul>
        </se:SvgParameter>
      </se:Font>
      <se:LabelPlacement>
        <se:PointPlacement>
          <se:AnchorPoint>
            <se:AnchorPointX>0.5</se:AnchorPointX>
            <se:AnchorPointY>0.5</se:AnchorPointY>
          </se:AnchorPoint>
          <se:Rotation>
            <ogc:Mul>
              <ogc:PropertyName>xplan:drehwinkel</ogc:PropertyName>
              <ogc:Literal>-1</ogc:Literal>
            </ogc:Mul>
          </se:Rotation>
        </se:PointPlacement>
      </se:LabelPlacement>
      <se:Fill>
        <se:SvgParameter name="fill">#000000</se:SvgParameter>
      </se:Fill>
    </se:TextSymbolizer>
  </Rule>
  <se:Rule>
    <se:Name>bebauungsart</se:Name>
    <se:Description>
      <se:Title>BP_BebauungsArt Symbol</se:Title>
    </se:Description>
    <ogc:Filter>
      <ogc:And>
        <ogc:PropertyIsEqualTo>
          <ogc:PropertyName>xplan:xpPlanType</ogc:PropertyName>
          <ogc:Literal>BP_Plan</ogc:Literal>
        </ogc:PropertyIsEqualTo>
        <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="\">
          <ogc:PropertyName>xplan:stylesheetId</ogc:PropertyName>
          <ogc:Literal>%bebauungsArt%</ogc:Literal>
        </ogc:PropertyIsLike>
        <ogc:Not>
          <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="\">
            <ogc:PropertyName>xplan:stylesheetId</ogc:PropertyName>
            <ogc:Literal>%bebauungsArt=7000%</ogc:Literal>
          </ogc:PropertyIsLike>
        </ogc:Not>
      </ogc:And>
    </ogc:Filter>
    <se:MaxScaleDenominator>2500</se:MaxScaleDenominator>
    <se:PointSymbolizer uom="meter">
      <se:Geometry>
        <ogc:PropertyName>xplan:position</ogc:PropertyName>
      </se:Geometry>
      <se:Graphic>
        <se:Mark>
          <se:WellKnownName>triangle</se:WellKnownName>
          <se:Fill>
            <se:SvgParameter name="fill-opacity">0</se:SvgParameter>
          </se:Fill>
          <se:Stroke>
            <se:SvgParameter name="stroke">#000000</se:SvgParameter>
            <se:SvgParameter name="stroke-width">
              <ogc:Mul>
                <ogc:PropertyName>xplan:skalierung</ogc:PropertyName>
                <ogc:Literal>0.2</ogc:Literal>
              </ogc:Mul>
            </se:SvgParameter>
          </se:Stroke>
        </se:Mark>
        <se:Size>
          <ogc:Mul>
            <ogc:PropertyName>xplan:skalierung</ogc:PropertyName>
            <ogc:Literal>6</ogc:Literal>
          </ogc:Mul>
        </se:Size>
        <se:AnchorPoint>
          <se:AnchorPointX>0.45</se:AnchorPointX>
          <se:AnchorPointY>0.7</se:AnchorPointY>
        </se:AnchorPoint>
      </se:Graphic>
    </se:PointSymbolizer>
  </se:Rule>
</FeatureTypeStyle>
